(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{188:function(e,t,n){e.exports=n.p+"static/media/icon.c9424f9b.png"},217:function(e,t,n){e.exports=n(471)},229:function(e,t,n){},231:function(e,t,n){},471:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"setBooks",function(){return f});var r={};n.r(r),n.d(r,"addToCart",function(){return j}),n.d(r,"removeToCart",function(){return k});var c={};n.r(c),n.d(c,"setFilter",function(){return z}),n.d(c,"searchQuery",function(){return J});var i=n(0),o=n.n(i),l=n(47),u=n.n(l),s=n(43),d=(n(226),n(229),n(231),n(16)),m=n(17),f=function(e){return{type:"SET_BOOKS",payload:e}},E=n(184),p=n(185),b=n(203),v=n(186),y=n(204),h=n(187),O=n.n(h),g=n(477),C=n(479),j=function(e){return{type:"ADD_TO_CART",payload:e}},k=function(e){return{type:"REMOVE_FROM_CART",payload:e}},R=n(480),_=n(472),w=n(482),T=n(481),x=n(79),S=n(188),I=n.n(S),B=n(478),A=function(e){var t=e.title,n=e.id,a=e.image,r=e.removeToCart;return o.a.createElement(B.a,{selection:!0,divided:!0,verticalAlign:"middle"},o.a.createElement(B.a.Item,null,o.a.createElement(B.a.Content,{floated:"right"},o.a.createElement(T.a,{onClick:r.bind(void 0,n),color:"red",size:"mini"},"X")),o.a.createElement(_.a,{avatar:!0,src:a}),o.a.createElement(B.a.Content,null,o.a.createElement("strong",null,t))))},M=function(e){var t=e.totalPrice,n=e.count,a=e.items;return o.a.createElement(R.a,null,o.a.createElement(R.a.Item,{name:"browse",id:"wrapper-logo"},o.a.createElement(_.a,{src:I.a,className:"logo"}),"book Store"),o.a.createElement(R.a.Menu,{position:"right"},o.a.createElement(R.a.Item,{name:"signup"},"Price: \xa0 ",o.a.createElement("b",null,t)," \xa0"),o.a.createElement(w.a,{trigger:o.a.createElement(T.a,{animated:"vertical",color:"green"},o.a.createElement(T.a.Content,{hidden:!0},"Books: \xa0 ",o.a.createElement("b",null,n)," \xa0"),o.a.createElement(T.a.Content,{visible:!0},o.a.createElement(x.a,{name:"shop"}))),wide:"very",content:a.map(function(e,t){return o.a.createElement(A,Object.assign({},e,{key:t}))}),on:"click",hideOnScroll:!0})))},Q=n(199),F=n.n(Q),L=Object(s.b)(function(e){var t=e.cart;return{totalPrice:t.items.reduce(function(e,t){return e+t.price},0),count:t.items.length,items:F()(t.items,function(e){return e.id})}},function(e){return Object(d.a)({},Object(m.b)(r,e))})(M),P=n(484),D=function(e){var t=e.title,n=e.author,a=e.price,r=e.rating,c=e.image,i=e.addToCart,l=e.addedCount;return o.a.createElement(C.a,{fluid:!0},o.a.createElement(_.a,{src:c}),o.a.createElement(C.a.Content,null,o.a.createElement(C.a.Header,null,t),o.a.createElement(C.a.Meta,null,o.a.createElement("span",{className:"date"},n))),o.a.createElement(C.a.Content,{extra:!0},o.a.createElement("i",null,o.a.createElement(x.a,{name:"rub"}),a)),o.a.createElement(C.a.Content,{extra:!0},o.a.createElement(T.a,{floated:"left",onClick:i.bind(void 0,e),inverted:!0,color:"green"},"Add in cart"),o.a.createElement(T.a,{floated:"right",color:"yellow",disabled:!0},"".concat(l))),o.a.createElement(C.a.Content,{extra:!0},"Raiting:",o.a.createElement(P.a,{icon:"star",rating:r,maxRating:5,size:"small"})," ","".concat(r,"/5")))},Y=Object(s.b)(function(e,t){var n=e.cart,a=t.id;return{addedCount:n.items.reduce(function(e,t){return e+(t.id===a?1:0)},0)}},function(e){return Object(d.a)({},Object(m.b)(r,e))})(D),z=function(e){return{type:"SET_FILTER",payload:e}},J=function(e){return{type:"SET_QUERY",payload:e}},K=n(476),N=function(e){var t=e.setFilter,n=e.filterBy,a=e.searchQuery,r=e.setSearchQuery;return o.a.createElement(R.a,{inverted:!0,color:"yellow"},o.a.createElement(R.a.Item,{id:"filter"},o.a.createElement(x.a,{name:"filter"}),"Filters:"),o.a.createElement(R.a.Item,{active:"all"===n,onClick:t.bind(void 0,"all")},"All"),o.a.createElement(R.a.Item,{active:"rating"===n,onClick:t.bind(void 0,"rating")},"Rating"),o.a.createElement(R.a.Item,{active:"price_expensive"===n,onClick:t.bind(void 0,"price_expensive")},"Price (expensive)"),o.a.createElement(R.a.Item,{active:"price_inexpensive"===n,onClick:t.bind(void 0,"price_inexpensive")},"Price (inexpensive)"),o.a.createElement(R.a.Item,{active:"author"===n,onClick:t.bind(void 0,"author")},"Author"),o.a.createElement(R.a.Menu,{position:"right"},o.a.createElement(K.a,{onChange:function(e){return r(e.target.value)},value:a,icon:"search",placeholder:"Search..."})))},U=Object(s.b)(function(e){return{filterBy:e.filter.filterBy}},function(e){return Object(d.a)({},Object(m.b)(c,e))})(N),V=function(e){function t(){return Object(E.a)(this,t),Object(b.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.setBooks;O.a.get("/books.json").then(function(t){var n=t.data;e(n)})}},{key:"render",value:function(){var e=this.props,t=e.books,n=e.isReady;return o.a.createElement(g.a,null,o.a.createElement(L,null),o.a.createElement(U,null),o.a.createElement(C.a.Group,{itemsPerRow:5},n?t.map(function(e,t){return o.a.createElement(Y,Object.assign({},e,{key:t}))}):"Loading..."))}}]),t}(i.Component),G=n(55),H=n.n(G),W=function(e,t,n){return function(e,t){switch(t){case"rating":return H()(e,"rating","desc");case"price_expensive":return H()(e,"price","desc");case"price_inexpensive":return H()(e,"price","asc");case"author":return H()(e,"author","asc");default:return e}}(function(e,t){return e.filter(function(e){return e.title.toLowerCase().indexOf(t.toLowerCase())>=0||e.author.toLowerCase().indexOf(t.toLowerCase())>=0})}(e,n),t)},X=Object(s.b)(function(e){var t=e.books,n=e.filter;return{books:t.items&&W(t.items,n.filterBy,n.searchQuery),isReady:t.isReady}},function(e){return Object(d.a)({},Object(m.b)(a,e))})(V),q=n(201),Z=n.n(q),$={isReady:!1,items:[]},ee="SET_BOOKS",te="SET_IS_READY",ne=n(202),ae={items:[]},re="ADD_TO_CART",ce="REMOVE_FROM_CART",ie={searchQuery:"",filterBy:"all"},oe="SET_FILTER",le="SET_QUERY",ue=Object(m.c)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return Object(d.a)({},e,{items:t.payload,isReady:!0});case te:return Object(d.a)({},e,{isReady:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Object(d.a)({},e,{items:Object(ne.a)(e.items).concat([t.payload])});case ce:return Object(d.a)({},e,{items:e.items.filter(function(e){return e.id!==t.payload})});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(d.a)({},e,{searchQuery:t.payload});case oe:return Object(d.a)({},e,{filterBy:t.payload});default:return e}}}),se=Object(m.d)(ue,Object(m.a)(Z.a));u.a.render(o.a.createElement(s.a,{store:se},o.a.createElement(X,null)),document.getElementById("root"))}},[[217,2,1]]]);
//# sourceMappingURL=main.37afc337.chunk.js.map